<%= form_with model:@ramen_store, local: true do |f| %>
<% if @ramen_store.errors.any? %>
    <div id="error_explanation">
      <h2><%= @ramen_store.errors.count %>件のエラーがあります。</h2>
      <ul>
      <% @ramen_store.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <%= f.label :name, "店名" %>
    <%= f.text_field :name, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :postcode, "郵便番号" %>
    <%= f.text_field :postcode, class: "form-control" %>
  </div>
  <div class="form-inline pb-3">
    <div class="form-group col-2">
      <%= f.label :prefecture_id, "都道府県"%>
      <%= f.collection_select :prefecture_id, Prefecture.all, :id, :name %>
    </div>
    <div class="form-group col-3">
      <%= f.label :city, "市町村" %>
      <%= f.text_field :city, class: "form-control" %>
    </div>
    <div class="form-group col-4">
      <%= f.label :address, "丁・番地" %>
      <%= f.text_field :address, class: "form-control" %>
    </div>
    <div class="form-group col-3">
      <%= f.label :building, "建物" %>
      <%= f.text_field :building, class: "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :phone_number, "電話番号" %>
    <%= f.text_field :phone_number, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :sale, "営業時間"%>
    <%= f.text_field :sale, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :holiday, "定休日"%>
    <%= f.text_field :holiday, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :seat, "席数"%>
    <%= f.text_field :seat, class: "form-control" %>
  </div>
  <div class="form-group">
    <%=f.label :access, "アクセス"%>
    <%= f.text_field :access, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :parking_space, "駐車場" %>
    <%= f.text_field :parking_space, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :sns, "SNS" %>
    <%= f.text_field :sns, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :content, "説明"%>
    <%= f.text_area :content, class: "form-control", rows: 5 %>
  </div>
  <%= f.fields_for :ramen_store_menus do |m| %>
  <div class="form-inline pb-3">
    <div class="form-group col-6">
      <%= m.label :name, "メニュー" %>
      <%= m.text_field :name, class: "form-control" %>
    </div>
    <div class="form-group col-6">
      <%= m.label :price, "金額" %>
      <%= m.text_field :price, class: "form-control" %>
    </div>
  </div>
  <% end %>
  <%= f.fields_for :ramen_store_user_images do |i| %>
  <div class="form-inline pb-3">
    <div class="form-group col-6">
      <%= i.label :name, "写真の名前" %>
      <%= i.text_field :name, class: "form-control" %>
    </div>
    <div class="form-group col-6">
      <%= i.label :image, "写真" %>
      <%= i.file_field :image, class: "form-control" %>
    </div>
  </div>
  <% end %>
  <div class="form-group">
    <%= f.label :tag_list, "タグ" %>
    <%= f.text_field :tag_list, value: @ramen_store.tag_list.join(','), class: "form-control" %>
  </div>
  <%= f.submit "店舗を更新する", class: "btn btn-primary btn-block" %>
<% end %>

<script>
	$(function () {
		$('#ramen_store_postcode').jpostal({
			postcode : [
				'#ramen_store_postcode'
			],
			address : {
				'#ramen_store_prefecture_id'  : '%3',
        '#ramen_store_city'  : '%4%5',
        '#ramen_store_address' : '%6',
        '#ramen_store_building' : '%7'
			}
		});
	});
</script>